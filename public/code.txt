<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Catálogo</title>

<style>
/* ================= VARIABLES ================= */
:root {
  --bg: #f8fafc;
  --header-bg: #ffffff;
  --border: #e2e8f0;
  --text: #0f172a;
  --muted: #64748b;
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-sticky: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  --anim-speed: 0.3s;
  --anim-ease: cubic-bezier(0.4, 0, 0.2, 1);
}

/* ================= RESET ================= */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Inter', system-ui, -apple-system, sans-serif;
  background: var(--bg);
  color: var(--text);
  -webkit-font-smoothing: antialiased;
}

/* ================= STICKY WRAPPER ================= */
.catalog-sticky-wrapper {
  position: sticky;
  top: 0;
  z-index: 1000;
  background: var(--header-bg);
  transition: box-shadow var(--anim-speed) var(--anim-ease);
}

.catalog-sticky-wrapper.is-stuck {
  box-shadow: var(--shadow-sticky);
  border-bottom: 1px solid var(--border);
}

/* ================= HEADER ================= */
.catalog-header {
  overflow: hidden;
  background: var(--header-bg);
  /* Ensure header sits above other content if needed, though wrapper handles stickiness */
}

.header-content {
  display: flex;
  flex-direction: column;
  padding: 16px 16px 12px;
  gap: 8px;
  transition: padding var(--anim-speed) var(--anim-ease), gap var(--anim-speed) var(--anim-ease);
}

/* TOP ROW: Logo + Name */
.header-top-row {
  display: flex;
  align-items: center;
  gap: 12px;
  /* Fixed height container to prevent jitter if needed, 
     but flex gap transition is usually smoother */
}

.business-logo {
  flex-shrink: 0;
  width: 56px;
  height: 56px;
  border-radius: 50%;
  background-color: #cbd5e1; /* Placeholder color */
  background-size: cover;
  background-position: center;
  transition: 
    width var(--anim-speed) var(--anim-ease), 
    height var(--anim-speed) var(--anim-ease),
    border-radius var(--anim-speed) var(--anim-ease);
  will-change: width, height;
}

#businessName {
  font-size: 1.5rem; /* 24px */
  font-weight: 700;
  line-height: 1.2;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  color: var(--text);
  transform-origin: left center;
  transition: font-size var(--anim-speed) var(--anim-ease);
  will-change: font-size;
}

/* BOTTOM ROW: Description */
.header-bottom-row {
  opacity: 1;
  max-height: 60px; /* Estimate enough height for description */
  transform: translateY(0);
  transition: 
    opacity 0.2s var(--anim-ease),
    max-height var(--anim-speed) var(--anim-ease),
    transform var(--anim-speed) var(--anim-ease),
    margin-bottom var(--anim-speed) var(--anim-ease);
  will-change: max-height, opacity;
}

.header-bottom-row p {
  font-size: 0.95rem;
  color: var(--muted);
  line-height: 1.4;
}

/* ================= SEARCH ================= */
.catalog-search-container {
  background: var(--header-bg);
  padding: 0 16px 12px;
  transition: padding var(--anim-speed) var(--anim-ease);
}

.catalog-search-bar {
  display: flex;
  align-items: center;
  gap: 10px;
  background: #f1f5f9;
  border-radius: 12px;
  padding: 10px 14px;
  /* Optional: Ring on focus could be added here */
}

.catalog-search-bar input {
  border: none;
  outline: none;
  background: transparent;
  width: 100%;
  font-size: 0.95rem;
  color: var(--text);
}

/* ================= CATEGORIES ================= */
.categories-nav {
  background: var(--header-bg);
  padding: 0 0 12px;
}

.categories-nav-track {
  display: flex;
  gap: 8px;
  padding: 0 16px;
  overflow-x: auto;
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* IE/Edge */
  /* Smooth scroll */
  scroll-behavior: smooth;
}

.categories-nav-track::-webkit-scrollbar {
  display: none;
}

.category-nav-btn {
  flex: 0 0 auto;
  padding: 8px 16px;
  border-radius: 99px;
  border: 1px solid transparent;
  background: #f8fafc;
  color: var(--muted);
  font-size: 0.9rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
}

.category-nav-btn.active {
  background: #0f172a;
  color: #ffffff;
}

/* ================= COMPACT MODE STATES ================= */
/* 
   Triggered by .is-compact class on the wrapper or header 
   We will apply it to the wrapper for broader control if needed, 
   or just the header. Let's apply to .catalog-sticky-wrapper to handle shadow too.
*/

.catalog-header.is-compact .header-content {
  padding: 8px 16px;
  gap: 0;
}

.catalog-header.is-compact .business-logo {
  width: 32px;
  height: 32px;
  border-radius: 8px; /* Slightly squarer when small */
}

.catalog-header.is-compact #businessName {
  font-size: 1.1rem; /* 17.6px */
}

.catalog-header.is-compact .header-bottom-row {
  opacity: 0;
  max-height: 0;
  margin-bottom: 0;
  transform: translateY(-5px);
  pointer-events: none;
}

/* Optional: tighten search/categories in compact mode if desired, 
   but usually keeping them accessible is key. 
   We will just keep them as is for stability. */

/* ================= MAIN CONTENT ================= */
.catalog-main {
  padding: 20px 16px;
  min-height: 100vh;
}
</style>
</head>

<body>

<div id="catalogContent">

  <!-- ===== STICKY WRAPPER ===== -->
  <!-- This wrapper becomes sticky and controls the visual state via classes -->
  <div class="catalog-sticky-wrapper" id="stickyWrapper">

    <!-- Header Block -->
    <header class="catalog-header" id="catalogHeader">
      <div class="header-content">
        
        <div class="header-top-row">
          <!-- Logo -->
          <div class="business-logo" id="headerLogo" style="background-image: url('https://via.placeholder.com/150');"></div>
          
          <!-- Name -->
          <h1 id="businessName">Mi Hamburguesería</h1>
        </div>

        <div class="header-bottom-row">
          <p id="businessDescription">Las mejores hamburguesas artesanales de la ciudad, hechas con amor.</p>
        </div>

      </div>
    </header>

    <!-- Search Block -->
    <div class="catalog-search-container">
      <div class="catalog-search-bar">
        <!-- Icon placeholder -->
        <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="color: #94a3b8"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path></svg>
        <input type="text" placeholder="Buscar productos..." />
      </div>
    </div>

    <!-- Categories Block -->
    <nav class="categories-nav">
      <div class="categories-nav-track">
        <button class="category-nav-btn active">Todos</button>
        <button class="category-nav-btn">Hamburguesas</button>
        <button class="category-nav-btn">Combos</button>
        <button class="category-nav-btn">Bebidas</button>
        <button class="category-nav-btn">Postres</button>
        <button class="category-nav-btn">Extras</button>
      </div>
    </nav>

  </div>

  <!-- Main Content Demo -->
  <main class="catalog-main">
    <h3>Menú Principal</h3>
    <p style="color: #64748b; margin-top: 8px;">Scroll para ver el efecto...</p>
    
    <!-- Long content to force scrolling -->
    <div style="margin-top: 30px; display: grid; gap: 20px;">
      <div style="height: 200px; background: #e2e8f0; border-radius: 12px;"></div>
      <div style="height: 200px; background: #e2e8f0; border-radius: 12px;"></div>
      <div style="height: 200px; background: #e2e8f0; border-radius: 12px;"></div>
      <div style="height: 200px; background: #e2e8f0; border-radius: 12px;"></div>
      <div style="height: 200px; background: #e2e8f0; border-radius: 12px;"></div>
    </div>
  </main>

</div>

<script>
(function() {
  const header = document.getElementById('catalogHeader');
  const stickyWrapper = document.getElementById('stickyWrapper');
  let isCompact = false;

  function handleScroll() {
    const scrollY = window.scrollY;
    // Trigger point: just as we start scrolling
    const shouldCompact = scrollY > 0;

    if (shouldCompact !== isCompact) {
      isCompact = shouldCompact;
      
      // Toggle class on Header for internal changes (logo size, etc)
      header.classList.toggle('is-compact', isCompact);
      
      // Toggle class on Wrapper for shadow/border if needed
      stickyWrapper.classList.toggle('is-stuck', isCompact);
    }
  }

  window.addEventListener('scroll', handleScroll, { passive: true });
  
  // Initial check in case of reload
  handleScroll();
})();
</script>

</body>
</html>