<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cat√°logo</title>
  <link rel="stylesheet" href="/src/styles/global.css">
  <link rel="stylesheet" href="./catalog.css">
</head>

<body>
  <!-- Loading state -->
  <div id="loadingState" class="loading-state">
    <p>Cargando cat√°logo...</p>
  </div>

  <!-- Error state -->
  <div id="errorState" class="error-state" style="display: none;">
    <div class="error-content">
      <h2>üòï Cat√°logo no encontrado</h2>
      <p>El cat√°logo que buscas no existe o no est√° disponible.</p>
    </div>
  </div>

  <!-- Main catalog -->
  <div id="catalogContent" style="display: none;">

    <!-- Header -->
    <header class="catalog-header">
      <div class="header-content">
        <div class="business-info">
          <h1 id="businessName">Cargando...</h1>
          <p id="businessDescription"></p>
        </div>
      </div>
    </header>

    <!-- Search Bar -->
    <div class="catalog-search-container">
      <div class="catalog-search-bar">
        <i class="ri-search-line"></i>
        <input type="text" id="catalogSearchInput" placeholder="Buscar productos..." />
        <button id="clearCatalogSearch" class="catalog-search-clear" style="display: none;">
          <i class="ri-close-line"></i>
        </button>
      </div>
    </div>

    <!-- Categories navigation -->
    <nav class="categories-nav" id="categoriesNav">
      <div class="categories-nav-track">
        <button class="category-nav-btn active" data-category="all">Todos</button>
      </div>
    </nav>

    <!-- Products by category -->
    <main class="catalog-main">
      <div id="productsContainer" class="products-container">
        <!-- Se llenar√°n din√°micamente -->
      </div>
    </main>

    <!-- Cart floating button -->
    <div class="cart-fab" id="cartFab" style="display: none;">
      <button class="cart-fab-btn" id="cartFabBtn">
        <i class="ri-shopping-cart-line cart-icon"></i>
        <span class="cart-count" id="cartCount">0</span>
      </button>
    </div>

    <!-- Cart panel -->
    <div class="cart-panel" id="cartPanel" style="display: none;">
      <div class="cart-overlay" id="cartOverlay"></div>
      <div class="cart-content">
        <div class="cart-header">
          <h2><i class="ri-shopping-bag-line"></i> Tu pedido</h2>
          <button class="cart-close" id="cartClose">
            <i class="ri-close-line"></i>
          </button>
        </div>

        <div class="cart-body" id="cartBody">
          <p class="empty-cart-message">El carrito est√° vac√≠o</p>
        </div>

        <div class="cart-footer" id="cartFooter" style="display: none;">
          <div class="cart-total">
            <span>Total:</span>
            <span class="cart-total-amount" id="cartTotalAmount">$0</span>
          </div>
          <button class="btn-whatsapp" id="btnWhatsapp">
            <i class="ri-whatsapp-fill"></i>
            <span>Pedir por WhatsApp</span>
          </button>
        </div>
      </div>
    </div>

  </div>

  <!-- Product detail modal -->
  <!-- Product detail modal -->
  <div class="product-modal" id="productModal" style="display: none;">
    <div class="product-modal-overlay" id="productModalOverlay"></div>
    <div class="product-modal-content">
      <button class="product-modal-close" id="productModalClose">
        <i class="ri-close-line"></i>
      </button>

      <div class="product-modal-image" id="productModalImage">
        <img src="" alt="">
      </div>

      <div class="product-modal-info">
        <h2 id="productModalName">Producto</h2>
        <p class="product-modal-price" id="productModalPrice">$0</p>
        <p class="product-modal-description" id="productModalDescription"></p>

        <!-- Quick Comments -->
        <div class="product-options-section" id="quickCommentsSection" style="display: none;">
          <h3>Comentarios r√°pidos</h3>
          <div class="quick-comments-list" id="quickCommentsList"></div>
        </div>

        <!-- Sides -->
        <div class="product-options-section" id="sidesSection" style="display: none;">
          <h3>Acompa√±antes</h3>
          <div class="sides-list" id="sidesList"></div>
        </div>

        <div class="product-modal-quantity">
          <button class="quantity-btn" id="decreaseQty">
            <i class="ri-subtract-line"></i>
          </button>
          <span class="quantity-value" id="quantityValue">1</span>
          <button class="quantity-btn" id="increaseQty">
            <i class="ri-add-line"></i>
          </button>
        </div>

        <button class="btn-add-to-cart" id="addToCartBtn">
          <i class="ri-shopping-cart-line"></i>
          Agregar al carrito
        </button>
      </div>
    </div>
  </div>


  <!-- Checkout Modal -->
  <div class="checkout-modal" id="checkoutModal" style="display: none;">
    <div class="checkout-modal-overlay" id="checkoutModalOverlay"></div>
    <div class="checkout-modal-content">
      <div class="checkout-modal-header">
        <h2><i class="ri-user-line"></i> Completa tus datos</h2>
        <button class="checkout-modal-close" id="checkoutModalClose">
          <i class="ri-close-line"></i>
        </button>
      </div>

      <form class="checkout-form" id="checkoutForm">
        <div class="form-group">
          <label for="clientName">
            <i class="ri-user-line"></i> Nombre completo *
          </label>
          <input type="text" id="clientName" name="clientName" placeholder="Ej: Juan P√©rez" required>
        </div>

        <div class="form-group">
          <label for="clientPhone">
            <i class="ri-phone-line"></i> Tel√©fono *
          </label>
          <input type="tel" id="clientPhone" name="clientPhone" placeholder="Ej: 3001234567" required>
        </div>

        <div class="form-group">
          <label for="clientAddress">
            <i class="ri-map-pin-line"></i> Direcci√≥n de entrega *
          </label>
          <textarea id="clientAddress" name="clientAddress" rows="2" placeholder="Ej: Calle 123 #45-67, Apto 301"
            required></textarea>
        </div>

        <div class="form-group">
          <label for="clientBarrio">
            <i class="ri-map-pin-2-line"></i> Barrio *
          </label>
          <input type="text" id="clientBarrio" name="clientBarrio" placeholder="Ej: Recreo, Barranquilla" required>
        </div>

        <div class="form-group">
          <label for="paymentMethod">
            <i class="ri-bank-card-line"></i> M√©todo de pago *
          </label>
          <select id="paymentMethod" name="paymentMethod" required>
            <option value="">Selecciona un m√©todo</option>
            <option value="Efectivo">Efectivo</option>
            <option value="Transferencia">Transferencia</option>
            <option value="Tarjeta">Tarjeta</option>
            <option value="Nequi">Nequi</option>
            <option value="Daviplata">Daviplata</option>
          </select>
        </div>

        <div class="form-group">
          <label for="clientNotes">
            <i class="ri-message-3-line"></i> Observaciones (opcional)
          </label>
          <textarea id="clientNotes" name="clientNotes" rows="2" placeholder="Ej: Tocar el timbre 2 veces"></textarea>
        </div>

        <div class="checkout-actions">
          <button type="button" class="btn-cancel" id="cancelCheckoutBtn">
            Cancelar
          </button>
          <button type="submit" class="btn-confirm">
            <i class="ri-whatsapp-fill"></i>
            Enviar pedido
          </button>
        </div>
      </form>
    </div>
  </div>

  <script type="module" src="./catalog.js"></script>
</body>

</html>